<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <title>Meyyoyow 漫遊朗島 - 官方網站</title>
  <!-- Base href set to relative for preview/CDN environments -->
  <base href="./">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Protocol Check: Warn user if opening via file:// -->
  <script>
    if (window.location.protocol === 'file:') {
      alert('錯誤：請勿直接雙擊開啟 index.html。\n\n現代網頁安全性限制禁止直接讀取模組。\n請使用 VS Code 的 "Live Server" 或其他本地伺服器 (Localhost) 來瀏覽此網頁。');
    }
  </script>

  <!-- Error Handler: Displays startup errors visibly on screen -->
  <script>
    window.addEventListener('error', function(event) {
      const loadingEl = document.getElementById('app-loading');
      if (loadingEl) loadingEl.style.display = 'none';

      const errorBox = document.createElement('div');
      errorBox.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;background:#fff0f0;color:#d8000c;padding:20px;z-index:9999;font-family:monospace;overflow:auto;';
      errorBox.innerHTML = `
        <h2 style="margin-top:0">Application Start Error</h2>
        <p><strong>Message:</strong> ${event.message}</p>
        <p>If you are seeing <strong>CORS</strong> or <strong>Module</strong> errors in the console, you are likely not serving this file via a Web Server.</p>
        <pre style="background:#eee;padding:10px;border-radius:4px;">${event.error?.stack || 'No stack trace'}</pre>
      `;
      document.body.appendChild(errorBox);
      console.error(event.error);
    });
  </script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <!-- Import Map for Angular v19.0.0 -->
  <script type="importmap">
  {
    "imports": {
      "rxjs": "https://esm.sh/rxjs@7.8.1",
      "rxjs/operators": "https://esm.sh/rxjs@7.8.1/operators",
      "tslib": "https://esm.sh/tslib@2.8.0",
      "@angular/platform-browser": "https://esm.sh/@angular/platform-browser@19.0.0?deps=rxjs@7.8.1,tslib@2.8.0",
      "@angular/core": "https://esm.sh/@angular/core@19.0.0?deps=rxjs@7.8.1,tslib@2.8.0",
      "@angular/forms": "https://esm.sh/@angular/forms@19.0.0?deps=rxjs@7.8.1,tslib@2.8.0",
      "@angular/common/http": "https://esm.sh/@angular/common@19.0.0/http?deps=rxjs@7.8.1,tslib@2.8.0",
      "@angular/common": "https://esm.sh/@angular/common@19.0.0?deps=rxjs@7.8.1,tslib@2.8.0",
      "@angular/router": "https://esm.sh/@angular/router@19.0.0?deps=rxjs@7.8.1,tslib@2.8.0"
    }
  }
  </script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style type="text/tailwindcss">
    @layer base {
      body { font-family: 'Noto Sans TC', sans-serif; }
      html { scroll-behavior: smooth; }
    }
    @layer components {
      .container-custom { @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8; }
      .btn-primary { @apply inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors duration-200; }
      .btn-secondary { @apply inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-teal-700 bg-teal-100 hover:bg-teal-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors duration-200; }
      .section-padding { @apply py-16 lg:py-24; }
      .heading-section { @apply text-3xl font-extrabold text-gray-900 sm:text-4xl mb-8 text-center; }
    }
    
    /* Loading Spinner Styles */
    .loading-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f0fdfa; /* teal-50 */
      color: #0d9488; /* teal-600 */
    }
    .spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(13, 148, 136, 0.3);
      border-radius: 50%;
      border-top-color: #0d9488;
      animation: spin 1s ease-in-out infinite;
      margin-bottom: 20px;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <app-root>
    <!-- This content is displayed BEFORE Angular loads. -->
    <div id="app-loading" class="loading-container">
      <div class="spinner"></div>
      <h2 class="text-xl font-bold">Meyyoyow 漫遊朗島</h2>
      <p class="text-sm mt-2 opacity-75">正在準備您的旅程...</p>
    </div>
  </app-root>
  <script type="module" src="./src/main.ts"></script>
</body>
</html>